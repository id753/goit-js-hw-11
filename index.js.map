{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"46827902-d0f0ee0995e79e4196197bc56\";\n\n\nexport function fetchData(query) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        q: query,\n    });\n\n    return fetch(`${BASE_URL}?${params.toString()}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText);\n            }\n            return response.json();\n        });\n}\n","\nexport function createMarkup(arr) {\n  return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <li class=\"list__item\">\n           <a href=\"${largeImageURL}\">\n              <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"list__image\"/>\n          </a>\n          <div class=\"info\">\n              <p class=\"info-item\"><b>Likes: </b>${likes}</p>\n              <p class=\"info-item\"><b>Views: </b>${views}</p>\n              <p class=\"info-item\"><b>Comments:</b> ${comments}</p>\n              <p class=\"info-item\"><b>Downloads:</b> ${downloads}</p>\n          </div>\n      </li>\n  `).join(\"\");\n}\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchData } from \"./js/pixabay-api.js\"; \nimport { createMarkup } from \"./js/render-functions.js\"; \n\nconst form = document.querySelector(\".form\");\nconst container = document.querySelector(\".list\"); \nconst title = document.querySelector(\"h1\");\n\n\nfunction handleSearch(event) {\n    event.preventDefault();\n    const query = event.target.elements.search.value.trim(); \n\n    if (!query) {\n        iziToast.error({\n            title: \"Error\",\n            message: \"Please enter a search term!\",\n            position: \"topRight\",\n        });\n        return;\n    }\n\n\n    container.innerHTML = \"\";\n    title.textContent = \"Loading images, please wait...\";\n\n    fetchData(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    title: \"Error\",\n                    message: \"Sorry, there are no images matching your search query. </br> Please try again!\",\n                    position: \"topRight\",\n                });\n            } else {\n                container.innerHTML = createMarkup(data.hits); \n\n                const lightbox = new SimpleLightbox(\".list a\", {\n                    captionDelay: 250,\n                    captionsData: \"alt\",\n                }); \n\n                lightbox.refresh(); \n            }\n        })\n        .catch(error => console.log(error))\n        .finally(() => {\n            event.target.reset();\n            title.textContent = \"\";\n        });\n}\n\n\nform.addEventListener(\"submit\", handleSearch);\n"],"names":["BASE_URL","API_KEY","fetchData","query","params","response","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","container","title","handleSearch","event","iziToast","data","SimpleLightbox","error"],"mappings":"6vBACA,MAAMA,EAAW,2BACXC,EAAU,qCAGT,SAASC,EAAUC,EAAO,CAC7B,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAGE,CACX,CAAK,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,EAAO,SAAU,CAAA,EAAE,EAC1C,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCpBO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,sBAEzEL,CAAa;AAAA,0BACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,mDAGDC,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA,GAG7D,EAAE,KAAK,EAAE,CACZ,CCLA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAQ,SAAS,cAAc,IAAI,EAGzC,SAASC,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMhB,EAAQgB,EAAM,OAAO,SAAS,OAAO,MAAM,OAEjD,GAAI,CAAChB,EAAO,CACRiB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACT,SAAU,UACtB,CAAS,EACD,MACH,CAGDJ,EAAU,UAAY,GACtBC,EAAM,YAAc,iCAEpBf,EAAUC,CAAK,EACV,KAAKkB,GAAQ,CACNA,EAAK,KAAK,SAAW,EACrBD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iFACT,SAAU,UAC9B,CAAiB,GAEDJ,EAAU,UAAYV,EAAae,EAAK,IAAI,EAE3B,IAAIC,EAAe,UAAW,CAC3C,aAAc,IACd,aAAc,KAClC,CAAiB,EAEQ,QAAO,EAEhC,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXJ,EAAM,OAAO,QACbF,EAAM,YAAc,EAChC,CAAS,CACT,CAGAF,EAAK,iBAAiB,SAAUG,CAAY"}